# 1C
#### Условие
Код задачи: 132

На вход программе подаётся изображение некоторого графа.

Необходимо вывести количество пересечений его рёбер. Обратите внимание -- рёбра, встречающиеся в одной вершине, не дают пересечения. 

Формат изображения -- png. Рёбра изображены прямыми чёрными отрезками толщиной не менее 3 пикселей. Вершины не помечены, однако гарантируется, что никакие два ребра, выходящие из одной вершины, не лежат на одной прямой. (то есть если отрезок кончается в точке -- там гарантированно есть вершина. 

Для реализации решения можно использовать любую библиотеку для считывания изображений в двумерный массив, но запрещается использовать более расширенные возможности. 


Дополнительно можете передавать в программу количество вершин в графе.

#### Описание идеи решения
1) Считываем информацию об изображении и преобразуем в двумерный массив bool, где белый -- false, черный -- true.
2) Пытаемся понять, где в графе находятся вершины.
3) Пытаемся понять, какие вершины соединены ребрами.
4) Реализуем алгоритм подсчёта всех точек пересечения.

#### Детали реализации
1) Решено использовать png++, однако возникли проблемы с зависимостями при установке библиотеки.
2) Используем свойство рёбер (два ребра из одной вершины не могут лежать на одной прямой по условию задачи). Для этого сначала находим такие пикселы, что на определённом по оси `x` от неё есть чёрный пиксел, а симметрично ему -- нет. Затем убираем "повторяющиеся" пикселы, т.е. пикселы, входящие в одну вершину. Проще воспринимать это действие как склеивание множества соседствующих пикселов, для которых условие выполняется, в одну точку.
3) Проверяем для каждой пары пикселов, есть ли между ними ребро. Тем самым заполняем множество рёбер (вектор отрезков).
4) Используем алгоритм Бентли-Оттмана для поиска пересечений (с алгоритмом я разобралась, но написать не успела).

#### Подводные камни
Этот способ работает только для картинок достаточного размера и достаточной рамкой из белых пикселов. Также могут возникнуть трудности при работе с рёбрами, которые выходят из вершины под углом немного меньше 180&deg. 

#### Идея нахождения точек без построения графа
Для каждой точки рассмотреть окружность из пикселов достаточного радиуса с центром в ней. Заметим, что чёрные пикселы должны располагаться симметрично на этой окружности, если точка не является вершиной. При этом если чёрных участков на окружности больше двух, то рассматриваемый центр -- либо вершина, либо точка пересечения рёбер. Значит, если выполняются оба условия, то это только точка пересечения. Тогда мы можем найти все пикселы, которые принадлежат только точкам пересечения, слить "одинаковые" в одну и посчитать их количество. 